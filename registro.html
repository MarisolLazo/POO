<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styledos.css">
    
    <title>Formulario de Registro</title>
</head>
<body>
    <h1>Registro de Usuario</h1>
    <form action="generar_perfil.php" method="post">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required><br>

        <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
        <input type="text" id="fecha_nacimiento" name="fecha_nacimiento" required><br>

        <label>Género:</label>
        <input type="radio" id="genero_masculino" name="genero" value="Masculino" required>
        <label for="genero_masculino">Masculino</label>
        <input type="radio" id="genero_femenino" name="genero" value="Femenino">
        <label for="genero_femenino">Femenino</label><br>

        <label for="departamento">Departamento:</label>
        <input type="text" id="departamento" name="departamento" required><br>

        <label for="ciudad">Ciudad:</label>
        <input type="text" id="ciudad" name="ciudad" required><br>

        <label for="telefono">Número de Teléfono:</label>
        <input type="tel" id="telefono" name="telefono" pattern="[0-9]{8}" required><br>

        <label for="descripcion">Descripción:</label>
        <textarea id="descripcion" name="descripcion" rows="4" cols="50"></textarea><br>

        <input type="submit" value="Enviar" onclick="mensaje()"><br>
    </form>

    <script>
        class Usuario {
            constructor(nombre, fechaNacimiento, genero, departamento, ciudad, telefono, descripcion) {
                this.nombre = nombre;
                this.fechaNacimiento = fechaNacimiento;
                this.genero = genero;
                this.departamento = departamento;
                this.ciudad = ciudad;
                this.telefono = telefono;
                this.descripcion = descripcion;
            }
            guardarDatos() {
                console.log("Datos del usuario guardados:", this);
            }
        }
        
        const nombre = document.getElementById('nombre').value;
        const fechaNacimiento = document.getElementById('fecha_nacimiento').value;
        const genero = document.querySelector('input[name="genero"]:checked');
        const departamento = document.getElementById('departamento').value;
        const ciudad = document.getElementById('ciudad').value;
        const telefono = document.getElementById('telefono').value;
        const descripcion = document.getElementById('descripcion').value;
        
        const nuevoUsuario = new Usuario(nombre, fechaNacimiento, genero, departamento, ciudad, telefono, descripcion);
        
        nuevoUsuario.guardarDatos();
        

        function mensaje() {
            alert("Los datos se han enviado correctamente");
            const nombre = document.getElementById('nombre').value;
            const fechaNacimiento = document.getElementById('fecha_nacimiento').value;
            const genero = document.querySelector('input[name="genero"]:checked').value;
            const departamento = document.getElementById('departamento').value;
            const ciudad = document.getElementById('ciudad').value;
            const telefono = document.getElementById('telefono').value;
            const descripcion = document.getElementById('descripcion').value;
            
            const url = `perfil.html?nombre=${nombre}&fecha_nacimiento=${fechaNacimiento}&genero=${genero}&departamento=${departamento}&ciudad=${ciudad}&telefono=${telefono}&descripcion=${descripcion}`;
            window.location.href = url;
            window.open("perfil.html", "_blank");
        }
    </script>
</body>
</html>
